"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const dynamodb_1 = require("aws-sdk/clients/dynamodb");
const docClient = new dynamodb_1.DocumentClient({ apiVersion: '2012-08-10' });
async function deleteTodo(input) {
    const { title, username } = input;
    const params = {
        TableName: process.env.TODOS_TABLE,
        Key: {
            username: username,
            title: title,
        }
    };
    try {
        await docClient.delete(params).promise();
        return "deleted";
    }
    catch (err) {
        console.log('DynamoDB error: ', err);
        return null;
    }
}
exports.default = deleteTodo;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVsZXRlVG9kby5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImRlbGV0ZVRvZG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx1REFBMEQ7QUFDMUQsTUFBTSxTQUFTLEdBQUcsSUFBSSx5QkFBYyxDQUFDLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUM7QUFHbkUsS0FBSyxVQUFVLFVBQVUsQ0FBQyxLQUFzQjtJQUM1QyxNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxHQUFHLEtBQUssQ0FBQTtJQUNqQyxNQUFNLE1BQU0sR0FBbUM7UUFDM0MsU0FBUyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBWTtRQUNuQyxHQUFHLEVBQUU7WUFDRCxRQUFRLEVBQUUsUUFBUTtZQUNsQixLQUFLLEVBQUUsS0FBSztTQUNmO0tBQ0osQ0FBQTtJQUNELElBQUk7UUFDQSxNQUFNLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDeEMsT0FBTyxTQUFTLENBQUE7S0FDbkI7SUFBQyxPQUFPLEdBQUcsRUFBRTtRQUNWLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxDQUFDLENBQUE7UUFDcEMsT0FBTyxJQUFJLENBQUE7S0FDZDtBQUNMLENBQUM7QUFFRCxrQkFBZSxVQUFVLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEb2N1bWVudENsaWVudCB9IGZyb20gJ2F3cy1zZGsvY2xpZW50cy9keW5hbW9kYic7XG5jb25zdCBkb2NDbGllbnQgPSBuZXcgRG9jdW1lbnRDbGllbnQoeyBhcGlWZXJzaW9uOiAnMjAxMi0wOC0xMCcgfSk7XG5pbXBvcnQgeyBkZWxldGVUb2RvSW5wdXQgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5hc3luYyBmdW5jdGlvbiBkZWxldGVUb2RvKGlucHV0OiBkZWxldGVUb2RvSW5wdXQpIHtcbiAgICBjb25zdCB7IHRpdGxlLCB1c2VybmFtZSB9ID0gaW5wdXRcbiAgICBjb25zdCBwYXJhbXM6IERvY3VtZW50Q2xpZW50LkRlbGV0ZUl0ZW1JbnB1dCA9IHtcbiAgICAgICAgVGFibGVOYW1lOiBwcm9jZXNzLmVudi5UT0RPU19UQUJMRSEsXG4gICAgICAgIEtleToge1xuICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICB9XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRvY0NsaWVudC5kZWxldGUocGFyYW1zKS5wcm9taXNlKClcbiAgICAgICAgcmV0dXJuIFwiZGVsZXRlZFwiXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdEeW5hbW9EQiBlcnJvcjogJywgZXJyKVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVsZXRlVG9kbzsiXX0=